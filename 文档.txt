2017.7.21
天津回来之后重新整理有关用户登录注册的我负责的部分代码：
	1.代码已完成部分：
		1.1 用户登录注册基本功能完成，邮箱验证功能暂时去掉
		1.2 用户的登录改为用户名登录
	2.待完成部分：
		2.1 注册时选择公司注册还是个人注册
		2.2 公司注册首次登录完善公司信息(admin_info_complete.html)
		2.3 个人注册首次登录完善个人信息，选择所在的公司(user_info_complete.html)
		2.4 用户的is_basicInfo_Complete标志默认是0，当用户完善个人信息后改为1
	3. 写代码时需要记下的部分:
		3.1 用户注册时需要指定其身份为公司管理员还是普通用户，当用户选择管理员时，
			用户的角色指定为管理员，当用户为普通用户时，指定用户的“其他”
		3.2 当用户注册完首次登录系统时，会进入基本资料页面
			怎么判断用户是否是首次登录系统呢：
			需要在user表中添加is_userInfo_completed(用户资料是否完善)字段
			默认此字段的值为0，当用户首次登录完善基本资料后此字段修改为1
			那么之后用户登录时就会进入响应的主页面了

2017.7.22 编写用户首次登录后的完善资料页面
1.代码已完成部分：
	1.1 用户登录注册基本功能完成，邮箱验证功能暂时去掉
	1.2 用户的登录改为用户名登录 
	1.3 注册时选择公司注册还是个人注册
	1.4 公司注册首次登录完善公司信息(admin_info_complete.html)
	1.5 个人注册首次登录完善个人信息，选择所在的公司(user_info_complete.html)
2.今天要完成的部分：
	2.1 编写用户首次登录后的完善资料页面admin_info_complete.html和user_info_complete.html
	2.2 编写用户完善资料提交后的处理页面，写入用户的详细信息并更改is_userInfo_completed(用户资料是否完善)字段
3. 写代码时需要记下的部分
	3.1 当用户注册完成时会记住用户的登录状态（方便在html页面引用current_user字段）
	3.2 （更改了main的view）为了防止用户在完善个人资料之前访问主页面，主页面的访问控制除了增加登录控制之外需要检查用户的is_userInfo_completed(用户资料是否完善)字段
		只有用户的is_userInfo_completed为1时，才可以访问主页面，否则跳转到完善用户的登录信息页面
	3.3 去掉了多余的user.index函数
	3.4 在user表中添加了字段fk_company_id存储用户所属公司的id
	3.5 修改user表中的checked字段为int型，默认为未审核状态（0），当审核通过时值为1
	3.6 当用户完善基本资料后，还必须等待管理员更改其checked字段为1才可以登录系统，否则进入等待审核页面
	3.7 当公司账号点击注册后自动跳转到主页面，主页面的访问控制首先会检查用户的基本信息是否填写完整
		如果用户的基本信息填写完整，则还会检查用户审核是否通过，只有当用户审核通过时才会跳转到主页面
	3.8 在company.py中添加了初始化方法__init__
	3.9 解决了一个困扰了很久的问题：
			当图片验证码重新生成但因为图片存储路径没变而导致的图片显示与session不匹配的问题
	3.10 当用户进入审核等待状态，通过修改数据库字段让用户审核通过，在等待审核页面添加了回首页按钮